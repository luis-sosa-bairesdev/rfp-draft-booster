{
  "user_stories": [
    {
      "summary": "Upload RFP PDFs via drag-and-drop",
      "description": "## User Story\nAs a **sales rep**, I want to **upload RFP PDFs via drag-and-drop**, so that **I can start processing quickly**.\n\n## Acceptance Criteria\n- [ ] Streamlit file_uploader widget configured for PDF files\n- [ ] Drag-and-drop functionality works\n- [ ] Browse button as alternative to drag-and-drop\n- [ ] File appears in UI after selection\n- [ ] Multiple file selection disabled (one at a time)\n- [ ] Upload interface is intuitive and user-friendly\n- [ ] Instructions/help text visible\n\n## Technical Notes\n- Use st.file_uploader(type=['pdf'])\n- Store uploaded file in session state\n- Clear previous uploads when new file selected\n- Display file name and size after upload\n\n## Definition of Done\n- Code implemented and tested\n- Unit tests written\n- UI reviewed and approved\n- Documentation updated\n\n## Story Points\n5\n\n## Priority\nHighest\n\n## Labels\nupload, ui, pdf",
      "issue_type": "Task",
      "priority": "Highest",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 5,
      "labels": ["upload", "ui", "pdf"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "File validation (type and size)",
      "description": "## User Story\nAs a **sales rep**, I want **file validation (type, size)**, so that **I know immediately if my file is compatible**.\n\n## Acceptance Criteria\n- [ ] Validate file type is PDF\n- [ ] Validate file size is under 50MB\n- [ ] Show clear error message for invalid file type\n- [ ] Show clear error message for oversized files\n- [ ] Validation happens before upload processing\n- [ ] Error messages are user-friendly and actionable\n- [ ] Supported file types documented\n\n## Technical Notes\n- Check file extension and MIME type\n- Use python-magic for accurate type detection\n- File size limit: 50MB (configurable)\n- Create custom exception for validation errors\n\n## Validation Rules\n- **File Type:** Must be PDF (.pdf)\n- **File Size:** Max 50MB\n- **MIME Type:** application/pdf\n\n## Definition of Done\n- Validation logic implemented\n- Error handling tested\n- Unit tests for all validation cases\n- Error messages reviewed\n\n## Story Points\n3\n\n## Priority\nHighest\n\n## Labels\nvalidation, error-handling, pdf",
      "issue_type": "Task",
      "priority": "Highest",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 3,
      "labels": ["validation", "error-handling", "pdf"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Upload progress indicator",
      "description": "## User Story\nAs a **sales rep**, I want to **see upload progress**, so that **I know the system is working**.\n\n## Acceptance Criteria\n- [ ] Progress bar displays during upload\n- [ ] Progress updates in real-time\n- [ ] Processing message shown during extraction\n- [ ] Spinner or loading indicator visible\n- [ ] Estimated time remaining displayed (optional)\n- [ ] Progress bar disappears when complete\n- [ ] Success message shown after completion\n\n## Technical Notes\n- Use st.progress() for progress bar\n- Use st.spinner() for processing indicator\n- Track upload and processing stages separately\n- Update session state with progress\n\n## Progress Stages\n1. **Uploading:** File transfer (0-30%)\n2. **Validating:** File checks (30-40%)\n3. **Extracting:** Text extraction (40-90%)\n4. **Finalizing:** Saving and cleanup (90-100%)\n\n## Definition of Done\n- Progress bar implemented\n- All stages tracked\n- UI tested with various file sizes\n- User feedback positive\n\n## Story Points\n5\n\n## Priority\nHigh\n\n## Labels\nui, progress, user-experience",
      "issue_type": "Task",
      "priority": "High",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 5,
      "labels": ["ui", "progress", "user-experience"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Automatic text extraction from PDFs",
      "description": "## User Story\nAs a **sales rep**, I want **automatic text extraction from PDFs**, so that **requirements can be analyzed**.\n\n## Acceptance Criteria\n- [ ] Extract text from PDFs with selectable text\n- [ ] Preserve basic structure (paragraphs, line breaks)\n- [ ] Track page numbers for each text section\n- [ ] Handle multi-column layouts\n- [ ] Process PDFs up to 100 pages\n- [ ] Complete extraction within 30 seconds (100 pages)\n- [ ] UTF-8 encoding for special characters\n- [ ] Store extracted text in RFP model\n\n## Technical Notes\n- Use PyPDF2 as primary extraction library\n- Use pdfplumber as fallback for complex layouts\n- Create PDFProcessor service class\n- Implement chunking for large PDFs\n- Store text with page metadata\n\n## Implementation Details\n```python\nclass PDFProcessor:\n    def extract_text(self, pdf_file) -> Dict[int, str]:\n        # Returns {page_num: text}\n        pass\n    \n    def extract_with_layout(self, pdf_file) -> str:\n        # Preserves layout using pdfplumber\n        pass\n```\n\n## Edge Cases\n- Empty pages (skip)\n- Images without text (ignore)\n- Tables (preserve structure)\n- Headers/footers (include)\n\n## Definition of Done\n- Extraction logic implemented\n- Both libraries integrated\n- Tested with 10+ diverse PDFs\n- Performance benchmarked\n- Unit tests written\n\n## Story Points\n13\n\n## Priority\nHighest\n\n## Labels\npdf, extraction, core-feature",
      "issue_type": "Task",
      "priority": "Highest",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 13,
      "labels": ["pdf", "extraction", "core-feature"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Clear error messages for extraction failures",
      "description": "## User Story\nAs a **sales rep**, I want **clear error messages if extraction fails**, so that **I know what to do next**.\n\n## Acceptance Criteria\n- [ ] Detect scanned PDFs (no selectable text)\n- [ ] Show specific error for scanned PDFs\n- [ ] Suggest alternatives (OCR, manual entry)\n- [ ] Handle corrupted PDFs gracefully\n- [ ] Show error for password-protected PDFs\n- [ ] Log errors for debugging\n- [ ] Provide contact support option\n- [ ] Error messages are non-technical\n\n## Technical Notes\n- Catch all PDF extraction exceptions\n- Create custom exception classes\n- Map technical errors to user-friendly messages\n- Log stack traces for debugging\n\n## Error Messages\n```\nScanned PDF:\n\"This PDF appears to be scanned (images only). \nPlease use a PDF with selectable text, or contact \nsupport for OCR options.\"\n\nCorrupted PDF:\n\"This PDF file appears to be corrupted or damaged. \nPlease try re-downloading the file or use a different version.\"\n\nPassword Protected:\n\"This PDF is password-protected. Please provide an \nunlocked version of the file.\"\n```\n\n## Definition of Done\n- All error cases handled\n- User-friendly messages written\n- Error logging implemented\n- Tested with problem PDFs\n- Documentation updated\n\n## Story Points\n5\n\n## Priority\nHigh\n\n## Labels\nerror-handling, user-experience, pdf",
      "issue_type": "Task",
      "priority": "High",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 5,
      "labels": ["error-handling", "user-experience", "pdf"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Extracted text preview display",
      "description": "## User Story\nAs a **sales rep**, I want to **see extracted text preview**, so that **I can verify extraction quality**.\n\n## Acceptance Criteria\n- [ ] Display first 500-1000 characters of extracted text\n- [ ] Show total character/word count\n- [ ] Display number of pages extracted\n- [ ] Expandable view to see more text\n- [ ] Download full text option\n- [ ] Text is formatted for readability\n- [ ] Page numbers visible in preview\n- [ ] Search functionality in preview (optional)\n\n## Technical Notes\n- Use st.text_area for text display\n- Make text area read-only\n- Add expand/collapse functionality\n- Include download button (st.download_button)\n\n## UI Layout\n```\n+---------------------------+\n| Extraction Summary        |\n| - Pages: 50              |\n| - Words: 12,543          |\n| - Characters: 75,234     |\n+---------------------------+\n| Text Preview:            |\n| [First 1000 chars...]    |\n| [Expand] [Download]      |\n+---------------------------+\n```\n\n## Definition of Done\n- Preview UI implemented\n- Statistics calculated correctly\n- Download function works\n- Tested with various PDFs\n- UI reviewed and approved\n\n## Story Points\n5\n\n## Priority\nHigh\n\n## Labels\nui, preview, user-experience",
      "issue_type": "Task",
      "priority": "High",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 5,
      "labels": ["ui", "preview", "user-experience"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Add RFP metadata (client name, deadline)",
      "description": "## User Story\nAs a **sales rep**, I want to **add metadata (client name, deadline)**, so that **RFPs are organized**.\n\n## Acceptance Criteria\n- [ ] Form to capture RFP metadata\n- [ ] Fields: Client name, deadline, RFP title, notes\n- [ ] All fields optional except RFP title\n- [ ] Date picker for deadline\n- [ ] Auto-populate title from filename\n- [ ] Metadata stored with RFP\n- [ ] Metadata editable after creation\n- [ ] Validation on required fields\n\n## Technical Notes\n- Create metadata form component\n- Use st.date_input for deadline\n- Store in RFP dataclass\n- Save to JSON alongside PDF\n\n## Metadata Fields\n```python\n@dataclass\nclass RFPMetadata:\n    title: str  # Required\n    client_name: Optional[str]\n    deadline: Optional[date]\n    notes: Optional[str]\n    created_at: datetime\n    updated_at: datetime\n```\n\n## Definition of Done\n- Metadata form implemented\n- Data validation working\n- Storage implemented\n- Edit functionality works\n- Unit tests written\n\n## Story Points\n5\n\n## Priority\nMedium\n\n## Labels\nmetadata, ui, organization",
      "issue_type": "Task",
      "priority": "Medium",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 5,
      "labels": ["metadata", "ui", "organization"],
      "parent_epic": "SCRUM-12"
    },
    {
      "summary": "Cancel uploads in progress",
      "description": "## User Story\nAs a **sales rep**, I want to **cancel uploads in progress**, so that **I can correct mistakes**.\n\n## Acceptance Criteria\n- [ ] Cancel button visible during upload\n- [ ] Cancel stops processing immediately\n- [ ] Partial uploads cleaned up\n- [ ] User returned to upload screen\n- [ ] Confirmation message shown\n- [ ] No data corruption from cancellation\n- [ ] Session state cleared properly\n\n## Technical Notes\n- Add cancel button in progress UI\n- Implement cleanup function\n- Handle interruption gracefully\n- Remove temporary files\n- Reset session state\n\n## Implementation Details\n```python\ndef cancel_upload():\n    # Stop processing\n    st.session_state.processing = False\n    \n    # Cleanup temp files\n    cleanup_temp_files()\n    \n    # Reset state\n    st.session_state.current_rfp = None\n    \n    # Show message\n    st.info(\"Upload cancelled\")\n```\n\n## Edge Cases\n- Cancel during validation\n- Cancel during extraction\n- Cancel multiple times\n- Network issues during cancel\n\n## Definition of Done\n- Cancel button implemented\n- Cleanup logic works\n- Tested all cancellation points\n- No memory leaks\n- Unit tests written\n\n## Story Points\n3\n\n## Priority\nMedium\n\n## Labels\nui, user-experience, error-handling",
      "issue_type": "Task",
      "priority": "Medium",
      "assignee": "luis.sosa@bairesdev.com",
      "story_points": 3,
      "labels": ["ui", "user-experience", "error-handling"],
      "parent_epic": "SCRUM-12"
    }
  ]
}
